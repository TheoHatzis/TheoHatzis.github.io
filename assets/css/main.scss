---
# YAML block remains for Jekyll processing
---

@import "minimal-mistakes/skins/{{ site.minimal_mistakes_skin | default: 'default' }}"; 
@import "minimal-mistakes"; 

/* 1. Layout: Keeping the valley wide */
.wrapper, #main, .initial-content, .masthead__inner-wrap, .footer__inner {
  max-width: 96% !important;
  width: 96% !important;
  margin-left: auto !important;
  margin-right: auto !important;
}

/* 2. The Hamburger Toggle: Fix the "Thin Line" and Force Visibility */
.greedy-nav .greedy-nav__toggle {
  display: flex !important;
  visibility: visible !important;
  z-index: 110 !important;
  height: 2rem;
  align-items: center;
  background: transparent;
  border: 0;
}

/* Re-shaping the three bars (The Navicon) */
.navicon {
  position: relative;
  width: 1.5rem !important;
  height: 0.2rem !important; /* Middle bar */
  background: #333 !important;
  display: block !important;
}

.navicon::before, .navicon::after {
  content: "" !important;
  display: block !important;
  position: absolute !important;
  width: 1.5rem !important;
  height: 0.2rem !important;
  background: #333 !important;
}

.navicon::before { top: -0.5rem !important; } 
.navicon::after { bottom: -0.5rem !important; } 

/* 3. FIX: Kill the "Faded" effect and force link visibility */
/* This targets the container that pops up when you click the hamburger */
.greedy-nav .hidden-links.visible {
  display: block !important;
  visibility: visible !important;
  opacity: 1 !important; 
  z-index: 120 !important;
  background: #f2eee3 !important; /* Solid beige background */
  position: absolute !important;
  top: 100% !important;
  right: 0 !important;
  width: 250px !important;
  padding: 1.5rem !important;
  box-shadow: 0 10px 30px rgba(0,0,0,0.3) !important;
}

/* Ensure the list items inside are not faded */
.greedy-nav .hidden-links.visible ul, 
.greedy-nav .hidden-links.visible li, 
.greedy-nav .hidden-links.visible a {
  opacity: 1 !important;
  visibility: visible !important;
  color: #333 !important;
  display: block !important;
  padding: 5px 0;
}

/* 4. Ensure the main header links don't ghost around on mobile */
@media (max-width: 64em) {
  .greedy-nav .visible-links {
    display: none !important;
  }
}